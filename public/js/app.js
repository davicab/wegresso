var currentPage=page;switch(currentPage){case"home":document.addEventListener("DOMContentLoaded",function(){createChart1(),createChart2(),createChart3(),createChart4()});break;case"curso":break;case"graficos":handleSelectChange(),document.addEventListener("DOMContentLoaded",function(){chartBarReload(),chartLineReload(),chartHoBarReload()})}function createChart1(){var e=document.getElementById("chart-1").getAttribute("data-dados-grafico"),e=JSON.parse(e),t=document.getElementById("chart-1").getContext("2d");new Chart(t,{type:"line",data:{labels:e.labels,datasets:[{label:"Formados por ano",data:e.data,backgroundColor:"rgba(0, 123, 255, 0.5)",borderColor:"rgba(0, 123, 255, 1)",borderWidth:1}]},options:{responsive:!0,scales:{x:{display:!0,title:{display:!0,text:"Ano de Egresso"}},y:{beginAtZero:!0,display:!0,title:{display:!0,text:"Contagem de Alunos"}}}}})}function createChart2(){var e=document.getElementById("chart-2").getAttribute("data-dados-grafico"),t=JSON.parse(e),a=[];for(let e=1;e<=t.data.length+1;e++)a[e]=getRandomColor();e=document.getElementById("chart-2").getContext("2d");new Chart(e,{type:"pie",data:{labels:t.labels,datasets:[{data:t.data,backgroundColor:a}]},options:{responsive:!0}})}function createChart3(){var e=document.getElementById("chart-3").getAttribute("data-dados-grafico");const a=JSON.parse(e);var e=Object.keys(a),t=[...new Set(e.flatMap(e=>Object.keys(a[e].data)))],o=document.getElementById("chart-3").getContext("2d");new Chart(o,{type:"bar",data:{labels:t,datasets:e.map((e,t)=>({label:a[e].labels,data:Object.values(a[e].data),backgroundColor:getRandomColor()}))},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Ano"}},y:{stacked:!0,title:{display:!0,text:"Alunos"}}}}})}function getRandomColor(){let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}function createChart4(){var e=document.getElementById("chart-4").getAttribute("data-dados-grafico"),e=JSON.parse(e),t=document.getElementById("chart-4").getContext("2d");new Chart(t,{type:"bar",data:{labels:e.data.map(e=>e.ano_egresso),datasets:[{label:"Valores",data:e.data.map(e=>e.empregados),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,scales:{x:{title:{display:!0,text:"Ano"}},y:{beginAtZero:!0,title:{display:!0,text:"Alunos empregados"}}}}})}let loadChart,loadLineChart,loadHChart;function handleSelectChange(){const t=document.querySelector("select");t.addEventListener("change",()=>{var e=t.options[t.selectedIndex];e.value&&updateCharts(JSON.parse(e.value))})}function updateCharts(e){loadChart.data.datasets[0].data=e.data,loadChart.data.datasets[0].label="Egressos de "+e.labels,loadChart.update(),loadLineChart.data.datasets[0].data=e.empregados,loadLineChart.update(),loadHChart.data.datasets[0].data=[e.media],loadHChart.data.labels=[e.labels],loadHChart.update()}function chartBarReload(){var e=document.getElementById("chart-1").getAttribute("data-dados-grafico"),e=JSON.parse(e),t=document.getElementById("chart-1").getContext("2d");loadChart=new Chart(t,{type:"bar",data:{labels:Object.keys(e.data),datasets:[{label:"Egressos de "+e.labels,data:Object.values(e.data),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,scales:{x:{title:{display:!0,text:"Ano"}},y:{title:{display:!0,text:"Alunos"}}}}})}function chartLineReload(){var e=document.getElementById("chart-2").getAttribute("data-dados-grafico"),e=JSON.parse(e),t=document.getElementById("chart-2").getContext("2d");loadLineChart=new Chart(t,{type:"line",data:{labels:Object.keys(e.empregados),datasets:[{label:"Egressos empregados por ano",data:Object.values(e.empregados),backgroundColor:"rgba(0, 123, 255, 0.5)",borderColor:"rgba(0, 123, 255, 1)",borderWidth:1}]},options:{responsive:!0,scales:{x:{display:!0,title:{display:!0,text:"Ano de Egresso"}},y:{beginAtZero:!0,display:!0,title:{display:!0,text:"Contagem de Alunos"}}}}})}function chartHoBarReload(){var e=document.getElementById("chart-3").getAttribute("data-dados-grafico"),e=JSON.parse(e),t=document.getElementById("chart-3").getContext("2d");loadHChart=new Chart(t,{type:"bar",data:{labels:[e.labels],datasets:[{label:"Média de tempo de conclusão (anos)",data:[e.media],backgroundColor:"rgba(0, 123, 255, 0.5)",borderColor:"rgba(0, 123, 255, 1)",borderWidth:1}]},options:{indexAxis:"y",responsive:!0,scales:{x:{beginAtZero:!0,title:{display:!0,text:"Tempo de Conclusão (anos)"}},y:{title:"curso",display:!0}}}})}function goBack(){window.history.back()}function openMenu(){var e=document.querySelector(".menu-mobile");let t=document.querySelector(".side-menu");e.addEventListener("click",()=>{t.classList.toggle("opened")})}openMenu();